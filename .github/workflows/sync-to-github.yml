name: Sync from Replit

on:
  workflow_dispatch:
    inputs:
      message:
        description: 'Commit message'
        required: false
        default: 'Sync from Replit'

jobs:
  trigger-build:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Windows Build
        uses: peter-evans/repository-dispatch@v2
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          event-type: replit-sync
          client-payload: '{"message": "${{ github.event.inputs.message }}"}'
